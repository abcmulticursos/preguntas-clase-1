<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preguntas Clase 1</title>
<style>
    /* --- ESTILOS GENERALES Y AJUSTABLES --- */
    html, body {
        min-height: 100%;
    }

    body {
        background-image: linear-gradient(to bottom, #c021f9, #f92e91);
        background-attachment: fixed;
        color: white;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px 2.5mm;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        box-sizing: border-box;
    }

    .main-container {
        max-width: 600px;
        width: 100%;
        background-color: transparent;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* --- ESTILOS PARA LAS IMÃGENES --- */
    .welcome-image-container {
        margin-bottom: 20px;
        width: 100%;
    }
    .welcome-image-container img {
        width: 100%;
        height: auto;
        border-radius: 17px;
        display: block;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .no-shadow img {
        box-shadow: none;
    }

    /* --- ESTILOS PARA LOS RECUADROS DE TEXTO --- */
    .text-rectangle {
        background-color: #f3f0f0;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 10px;
        text-align: center;
        color: black;
        width: 100%;
        box-sizing: border-box;
    }

    .text-rectangle.large {
        font-size: 23pt;
        font-weight: normal;
    }

    .text-rectangle.small {
        font-size: 15pt;
        font-weight: normal;
        line-height: 1.4;
    }

    /* --- ESTILOS PARA EL FORMULARIO --- */
    .form-container {
        background-color: #fdd2fd;
        border: 1px solid #cccccc;
        border-radius: 10px;
        padding: 20px;
        margin-top: 20px;
        text-align: left;
        width: 100%;
        box-sizing: border-box;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: black;
        font-size: 19px;
    }

    /* Estilo para el asterisco rojo de "obligatorio" */
    .form-group label .required-asterisk {
        color: red;
        margin-left: 2px;
    }

    /* Estilos de los campos de entrada unificados */
    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
        border-radius: 5px;
        border: 1px solid black;
        background-color: white;
        font-size: 19px;
        font-family: Arial, sans-serif;
        line-height: 1.2;
        margin-bottom: 30px;
    }

/* PROPIEDADES DE ALTURA Y COMPORTAMIENTO UNIFORMES */
Â  Â  .form-group textarea {
Â  Â  Â  Â  height: 54px;
Â  Â  Â  Â  line-height: 54px; /* Centra el texto verticalmente */
Â  Â  Â  Â  resize: none; /* Evita que el usuario cambie el tamaÃ±o */
Â  Â  Â  Â  overflow: hidden; /* Oculta cualquier texto que se desborde */
Â  Â  }

    /* *** ESTILOS CLAVE AÃ‘ADIDOS/MODIFICADOS PARA EL INPUT DE TELÃ‰FONO *** */
    /* Contenedor del campo de telÃ©fono */
    .phone-input-container {
        position: relative;
        width: 100%; 
        margin-bottom: 30px; /* Para mantener el espaciado entre preguntas */
        height: 54px;
    }

    /* El campo de input en sÃ­ */
    .form-group input[type="tel"] {
        /* Se mantiene el height y line-height de 54px para el centrado vertical */
        margin-bottom: 0; /* Eliminamos el margen duplicado */
        /* AÃ±adimos padding a la izquierda para que el texto NO se superponga con la bandera/prefijo */
        padding-left: 120px; /* Espacio suficiente para la bandera y el prefijo */
    }

    /* Estilo para el elemento que contendrÃ¡ el emoji y prefijo */
    #flag-prefix-display {
        position: absolute;
        top: 0;
        left: 0;
        height: 54px;
        line-height: 54px; /* Centra verticalmente */
        padding: 0 10px;
        color: black;
        font-size: 19px;
        font-weight: normal;
        pointer-events: none; /* Permite hacer clic en el input detrÃ¡s */
        background: transparent;
        z-index: 10;
        border-right: 1px solid #ccc; 
        /* Asegura que el texto no se envuelva */
        white-space: nowrap; 
    }

    /* Regla especÃ­fica para el campo de mensaje largo */
    .form-group textarea#sugerencias {
        height: auto;
        min-height: 255px;
        line-height: 1.2;
        overflow: auto;
        resize: vertical;
    }
    
    /* Estilo para el placeholder "Tu respuesta" */
    .form-group input::placeholder,
    .form-group textarea::placeholder {
        color: #000000;
        opacity: 0.38;
    }

    .submit-button {
        background-color: #4CAF50;
        color: white;
        padding: 15px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        width: 100%;
        margin-top: 10px;
        margin-bottom: 15px;
    }

    /* ESTILOS PARA LA IMAGEN Y BOTÃ“N DE AGRADECIMIENTO */
    #mensaje-exito {
        display: none;
        margin-top: 20px;
        max-width: 600px;
        width: 100%;
        text-align: center;
    }

    #mensaje-exito img {
        max-width: 100%;
        height: auto;
        border-radius: 17px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .whatsapp-button {
        display: block;
        margin: 30px auto 0;
        max-width: 300px;
        padding: 15px 30px;
        text-decoration: none;
        border-radius: 50px;
        font-size: 18px;
        font-weight: bold;
        color: white;
        background-color: #25D366;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        transition: background-color 0.3s;
    }

    .whatsapp-button:hover {
        background-color: #128C7E;
    }
</style>
</head>
<body>

<div class="main-container" id="main-container">
    <div class="welcome-image-container">
        <img src="images/isabel-villagomez-pagina-002-preguntas-clase-1.jpg" alt="Preguntas Clase 1">
    </div>

    <div class="text-rectangle large">
        ğŸ“ Preguntas Clase 1
    </div>

    <div class="text-rectangle small">
        Â¡Hola! Nos gustarÃ­a saber cÃ³mo te fue en tu primera sesiÃ³n para seguir mejorando. Por favor, responde las siguientes preguntas.
    </div>

    <div class="form-container" id="form-container">
        <p style="color: red; font-size: 14px; margin-top: -10px;">
            * Los campos con asterisco son obligatorios
        </p>
        <form action="https://script.google.com/macros/s/AKfycbxrI7FqEGnbekaTfnJSKn-CNKB0cK8graaGBDxrUd23OaocZCQkLSIioF3v2nC-_XqYIw/exec" method="POST" id="miFormulario">
            
            <input type="hidden" name="form_name" value="clase_1">

            <div class="form-group">
                <label for="nombre">1ï¸âƒ£ Â¿CuÃ¡l es tu nombre?</label>
                <textarea id="nombre" name="nombre" placeholder="Tu respuesta"></textarea>
            </div>

<div class="form-group">
    <label for="pais">2ï¸âƒ£ Â¿De quÃ© paÃ­s nos visitas?</label>

    <select id="pais" name="pais" required>
        <option value="">Selecciona tu paÃ­s</option>
        <option value="CO" data-prefijo="+57">ğŸ‡¨ğŸ‡´ Colombia</option>
        <option value="MX" data-prefijo="+52">ğŸ‡²ğŸ‡½ MÃ©xico</option>
        <option value="PE" data-prefijo="+51">ğŸ‡µğŸ‡ª PerÃº</option>
        <option value="EC" data-prefijo="+593">ğŸ‡ªğŸ‡¨ Ecuador</option>
        <option value="CL" data-prefijo="+56">ğŸ‡¨ğŸ‡± Chile</option>
        <option value="BO" data-prefijo="+591">ğŸ‡§ğŸ‡´ Bolivia</option>
        <option value="GT" data-prefijo="+502">ğŸ‡¬ğŸ‡¹ Guatemala</option>
        <option value="SV" data-prefijo="+503">ğŸ‡¸ğŸ‡» El Salvador</option>
        <option value="AR" data-prefijo="+54">ğŸ‡¦ğŸ‡· Argentina</option>
        <option value="VE" data-prefijo="+58">ğŸ‡»ğŸ‡ª Venezuela</option>
        <option value="HN" data-prefijo="+504">ğŸ‡­ğŸ‡³ Honduras</option>
        <option value="UY" data-prefijo="+598">ğŸ‡ºğŸ‡¾ Uruguay</option>
        <option value="CR" data-prefijo="+506">ğŸ‡¨ğŸ‡· Costa Rica</option>
    </select>
</div>

<div class="form-group">
    <label for="telefono">3ï¸âƒ£ ğŸ“ NÃºmero de TelÃ©fono ğŸ“²</label>
    <div class="phone-input-container">
        <span id="flag-prefix-display"></span> 
        
        <input type="tel" id="telefono" name="telefono"
            inputmode="numeric"
            pattern="[0-9\s+]*"
            placeholder="Selecciona tu paÃ­s primero"
            required>
    </div>
</div>

            <div class="form-group">
                <label for="formulario-medidas-pedido">4ï¸âƒ£ Â¿Ya pediste tu formulario para toma de medidas?</label>
                <select id="formulario-medidas-pedido" name="formulario-medidas-pedido">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="si-lo-tengo">SÃ­ lo tengo</option>
                    <option value="aun-no-he-pedido">AÃºn no lo he pedido.</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="entender-clase">5ï¸âƒ£ Â¿La pudiste entender Claramente?</label>
                <select id="entender-clase" name="entender-clase">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="si-entendi">SÃ­ entendÃ­ ğŸ¤—</option>
                    <option value="no-entendi-bien">No entendÃ­ muy bien. ğŸ«£</option>
                    <option value="no-pude-conectarme">No pude conectarme.ğŸ˜£</option>
                </select>
            </div>

            <div class="form-group">
                <label for="formulario-medidas-utilidad">6ï¸âƒ£ Â¿Ya sabes para quÃ© sirve el formulario para toma de medidas?</label>
                <select id="formulario-medidas-utilidad" name="formulario-medidas-utilidad">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="si-lo-se">SÃ­, ya lo sÃ© ğŸ¤—</option>
                    <option value="no-se-para-que-sirve">No sÃ© para quÃ© sirve ğŸ¥º</option>
                </select>
            </div>

            <div class="form-group">
                <label for="tomar-medidas">7ï¸âƒ£ Â¿Ya sabes cÃ³mo tomar medidas corporales?</label>
                <select id="tomar-medidas" name="tomar-medidas">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="si-ya-se">SÃ­, ya sÃ© como ğŸ˜‰</option>
                    <option value="aun-no">AÃºn no ğŸ˜•</option>
                </select>
            </div>

            <div class="form-group">
                <label for="medidas-rectas-contorno">8ï¸âƒ£ Â¿Entendiste quÃ© es una medida recta y un contorno corporal?</label>
                <select id="medidas-rectas-contorno" name="medidas-rectas-contorno">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="si-entendi">SÃ­, lo entendÃ­ ğŸ˜Š</option>
                    <option value="no-entendi">No entendÃ­ esa parte ğŸ˜”</option>
                </select>
            </div>

            <div class="form-group">
                <label for="practicar-molde">9ï¸âƒ£ Â¿EstÃ¡s preparada para practicar tu primer molde?</label>
                <select id="practicar-molde" name="practicar-molde">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="estoy-lista">Estoy lista â˜ºï¸</option>
                    <option value="aun-no">AÃºn no estoy lista ğŸ˜°</option>
                </select>
            </div>

            <div class="form-group">
                <label for="ensenanza-maestra">1ï¸âƒ£0ï¸âƒ£ Â¿QuÃ© te parece la forma de enseÃ±ar de la maestra Isabel?</label>
                <select id="ensenanza-maestra" name="ensenanza-maestra">
                    <option value="" disabled selected hidden>Selecciona una opciÃ³n</option>
                    <option value="muy-facil">Muy fÃ¡cil y entendible ğŸ‘ŒğŸ¼</option>
                    <option value="me-costo">Me costÃ³ entender ğŸ™†ğŸ»â€â™€ï¸</option>
                </select>
            </div>

            <div class="form-group">
                <label for="practicar-medidas">1ï¸âƒ£1ï¸âƒ£ Â¿Con quiÃ©n practicarÃ¡s tu primera toma de medidas corporales?</label>
                <textarea id="practicar-medidas" name="practicar-medidas" placeholder="Tu respuesta"></textarea>
            </div>

            <div class="form-group">
                <label for="sugerencias">1ï¸âƒ£2ï¸âƒ£ Sugiere en quÃ© podrÃ­amos mejorar.</label>
                <textarea id="sugerencias" name="sugerencias" placeholder="Tu respuesta"></textarea>
            </div>

            <button type="submit" class="submit-button">Enviar Respuesta</button>
        </form>
    </div>
</div>

<div id="mensaje-exito">
    <img src="images/felicidades-nos-vemos-en-whatsapp.jpg" alt="Felicidades nos vemos en WhatsApp">

    <a href="https://wa.me/+51965723248" class="whatsapp-button" target="_blank">
        Ir al chat de WhatsApp
    </a>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {

    const formulario = document.getElementById('miFormulario');
    const mainContainer = document.getElementById('main-container');
    const mensajeExito = document.getElementById('mensaje-exito');

    const paisSelect = document.getElementById("pais");
    const telefonoInput = document.getElementById("telefono");
const flagPrefixDisplay = document.getElementById("flag-prefix-display"); // Â¡Nuevo!

Â  Â  const formatos = {
Â  Â  Â  Â  "CO": { prefijo: "+57", min: 10, max: 10 },
Â  Â  Â  Â  "MX": { prefijo: "+52", min: 10, max: 10 },
Â  Â  Â  Â  "PE": { prefijo: "+51", min: 9, max: 9 },
Â  Â  Â  Â  "EC": { prefijo: "+593", min: 9, max: 9 },
Â  Â  Â  Â  "CL": { prefijo: "+56", min: 9, max: 9 },
Â  Â  Â  Â  "BO": { prefijo: "+591", min: 8, max: 8 },
Â  Â  Â  Â  "GT": { prefijo: "+502", min: 8, max: 8 },
Â  Â  Â  Â  "SV": { prefijo: "+503", min: 8, max: 8 },
Â  Â  Â  Â  "AR": { prefijo: "+54", min: 10, max: 10 },
Â  Â  Â  Â  "VE": { prefijo: "+58", min: 10, max: 10 },
Â  Â  Â  Â  "HN": { prefijo: "+504", min: 8, max: 8 },
Â  Â  Â  Â  "UY": { prefijo: "+598", min: 8, max: 8 },
Â  Â  Â  Â  "CR": { prefijo: "+506", min: 8, max: 8 }
Â  Â  };

    // FUNCIÃ“N CENTRAL PARA SINCRONIZAR PAÃS Y TELÃ‰FONO
    function updatePhoneInput() {
        const pais = paisSelect.value;
        const formato = formatos[pais];
        
        if (!formato) {
            flagPrefixDisplay.textContent = "";
            telefonoInput.value = "";
            telefonoInput.placeholder = "Selecciona tu paÃ­s primero";
            return;
        }
        
        const selectedOption = paisSelect.options[paisSelect.selectedIndex];
        const optionText = selectedOption.textContent.trim();
        const emoji = optionText.split(' ')[0];
        
        const fullPrefix = `${emoji} ${formato.prefijo}`;
        
        // 1. Actualiza el elemento SPAN que muestra el prefijo fijo
        flagPrefixDisplay.textContent = fullPrefix;

        // 2. Prepara el placeholder
        const numDigitos = formato.max;
        const caracteresEsperados = "X".repeat(numDigitos);
        telefonoInput.placeholder = `Ej: ${caracteresEsperados} (${numDigitos} dÃ­gitos)`;

        // 3. Establece el valor inicial/limpia el campo
        let numeroActual = telefonoInput.value.replace(/\D/g, '');
        
        // Restablece el valor del input a solo los nÃºmeros, recortando si es necesario
        if (numeroActual.length > numDigitos) {
            numeroActual = numeroActual.substring(0, numDigitos);
        }
        telefonoInput.value = numeroActual;
        
        // Almacena solo el prefijo numÃ©rico (+xx) para la lÃ³gica de envÃ­o
        telefonoInput.dataset.prefijo = formato.prefijo; 
    }

    // Al seleccionar paÃ­s, actualiza el campo de telÃ©fono.
    paisSelect.addEventListener("change", updatePhoneInput);

    // Evitar caracteres no numÃ©ricos y controlar la longitud mÃ¡xima
    telefonoInput.addEventListener("input", function() {
        const pais = paisSelect.value;
        const formato = formatos[pais];
        
        if (!formato) return;

        let currentValue = this.value;
        
        // 1. Limpia cualquier carÃ¡cter que no sea dÃ­gito
        let soloDigitos = currentValue.replace(/\D/g, '');
        
        // 2. Controlar la longitud mÃ¡xima
        if (soloDigitos.length > formato.max) {
            soloDigitos = soloDigitos.substring(0, formato.max);
        }
        
        // 3. Actualiza el valor del campo: solo dÃ­gitos
        this.value = soloDigitos;
    });

formulario.addEventListener('submit', function(event) {
Â  Â  Â  Â  event.preventDefault(); // Detiene el envÃ­o predeterminado para validaciÃ³n

Â  Â  Â  Â  const pais = paisSelect.value;
Â  Â  Â  Â  const formato = formatos[pais];

Â  Â  Â  Â  if (!formato) {
Â  Â  Â  Â  Â  Â  alert("Debes seleccionar tu paÃ­s.");
Â  Â  Â  Â  Â  Â  paisSelect.focus();
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // El valor del input ya solo contiene los dÃ­gitos locales
Â  Â  Â  Â  const numeroLocal = telefonoInput.value.replace(/\D/g, "");

Â  Â  Â  Â  if (numeroLocal.length < formato.min || numeroLocal.length > formato.max) {
Â  Â  Â  Â  Â  Â  alert(`El nÃºmero de telÃ©fono no es vÃ¡lido para este paÃ­s. Se esperan ${formato.min} dÃ­gitos.`);
Â  Â  Â  Â  Â  Â  telefonoInput.focus();
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // *** CLAVE: Ensamblar el nÃºmero completo y limpio para el envÃ­o ***
Â  Â  Â  Â  const numeroCompleto = formato.prefijo + numeroLocal;
Â  Â  Â  Â  
Â  Â  Â  Â  // Preparamos los datos
Â  Â  Â  Â  const formData = new FormData(formulario);
Â  Â  Â  Â  
Â  Â  Â  Â  // Reemplazamos el valor del campo 'telefono' con el nÃºmero completo ensamblado
Â  Â  Â  Â  formData.set('telefono', numeroCompleto);

Â  Â  Â  Â  // ContinÃºa con el envÃ­o
Â  Â  Â  Â  
Â  Â  Â  Â  mainContainer.style.display = 'none';
Â  Â  Â  Â  mensajeExito.style.display = 'block';

Â  Â  Â  Â  window.scrollTo({
Â  Â  Â  Â  Â  Â  top: 0,
Â  Â  Â  Â  Â  Â  behavior: 'smooth'
Â  Â  Â  Â  });

Â  Â  Â  Â  const scriptURL = formulario.getAttribute('action');

Â  Â  Â  Â  fetch(scriptURL, {
Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  body: formData,
Â  Â  Â  Â  Â  Â  mode: 'no-cors'
Â  Â  Â  Â  })
Â  Â  Â  Â  .then(response => console.log('EnvÃ­o exitoso!', response))
Â  Â  Â  Â  .catch(error => console.error('Error!', error));
Â  Â  });

});
</script>


</body>
</html>
